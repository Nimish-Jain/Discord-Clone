(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[0],{71:function(e,c,n){},75:function(e,c,n){},76:function(e,c,n){},77:function(e,c,n){},82:function(e,c,n){},83:function(e,c,n){},84:function(e,c,n){},85:function(e,c,n){},86:function(e,c,n){"use strict";n.r(c);var a=n(3),s=n(2),t=n.n(s),i=n(21),r=n.n(i),l=(n(71),n(13)),o=(n(75),n(23)),d=n(24),j=Object(d.b)({name:"app",initialState:{channelId:null,channelName:"Default Channel"},reducers:{setChannelInfo:function(e,c){e.channelId=c.payload.channelId,e.channelName=c.payload.channelName}}}),h=j.actions.setChannelInfo,b=function(e){return e.app.channelId},u=function(e){return e.app.channelName},m=j.reducer;n(76);var O=function(e){var c=e.id,n=e.channelName,s=Object(l.b)();return Object(a.jsx)("div",{className:"sidebarChannel",onClick:function(){return s(h({channelId:c,channelName:n}))},children:Object(a.jsxs)("h4",{children:[Object(a.jsx)("span",{className:"sidebarChannel__hash",children:"#"}),n]})})},p=(n(77),n(47)),x=n.n(p),f=n(48),v=n.n(f),_=n(37),N=n.n(_),g=n(49),S=n.n(g),I=n(50),C=n.n(I),k=n(100),w=n(51),y=n.n(w),D=n(52),H=n.n(D),z=n(53),E=n.n(z),A=Object(d.b)({name:"user",initialState:{user:null},reducers:{login:function(e,c){e.user=c.payload},logout:function(e,c){e.user=null}}}),B=A.actions,L=B.login,U=B.logout,W=function(e){return e.user.user},J=A.reducer,M=n(26),T=M.a.initializeApp({apiKey:"AIzaSyCXawvjYadEUWf0f7csS36k8ZmrbQomE-Y",authDomain:"discord-clone-9b8fd.firebaseapp.com",databaseURL:"https://discord-clone-9b8fd.firebaseio.com",projectId:"discord-clone-9b8fd",storageBucket:"discord-clone-9b8fd.appspot.com",messagingSenderId:"1050088643104",appId:"1:1050088643104:web:9cb422e058d37fe183fa45",measurementId:"G-6LS85H5JXC"}).firestore(),F=M.a.auth(),G=new M.a.auth.GoogleAuthProvider,P=T;var R=function(){var e=Object(l.c)(W),c=Object(s.useState)([]),n=Object(o.a)(c,2),t=n[0],i=n[1];return Object(s.useEffect)((function(){P.collection("channels").onSnapshot((function(e){return i(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]),Object(a.jsxs)("div",{className:"sidebar",children:[Object(a.jsxs)("div",{className:"sidebar__top",children:[Object(a.jsx)("h3",{children:"Discord-Clone-Nimish"}),Object(a.jsx)(N.a,{})]}),Object(a.jsxs)("div",{className:"sidebar__channels",children:[Object(a.jsxs)("div",{className:"sidebar__channelsHeader",children:[Object(a.jsxs)("div",{className:"sidebar__header",children:[Object(a.jsx)(N.a,{}),Object(a.jsx)("h4",{children:"Text Channels"})]}),Object(a.jsx)(x.a,{onClick:function(){var e=prompt("Enter a new Channel Name");e&&P.collection("channels").add({channelName:e})},className:"sidebar__addChannel"})]}),Object(a.jsx)("div",{className:"sidebar__channelsList",children:t.map((function(e){var c=e.id,n=e.channel;return Object(a.jsx)(O,{id:c,channelName:n.channelName},c)}))})]}),Object(a.jsxs)("div",{className:"sidebar__voice",children:[Object(a.jsx)(v.a,{className:"sidebar__voiceIcon",fontSize:"large"}),Object(a.jsxs)("div",{className:"sidebar__voiceInfo",children:[Object(a.jsx)("h3",{children:"Voice Connected"}),Object(a.jsx)("p",{children:"Stream"})]}),Object(a.jsxs)("div",{className:"sidebar__voiceIcons",children:[Object(a.jsx)(S.a,{}),Object(a.jsx)(C.a,{})]})]}),Object(a.jsxs)("div",{className:"sidebar__profile",children:[Object(a.jsx)("span",{className:"sidebar__profileAvatar",children:Object(a.jsx)(k.a,{src:e.photo,onClick:function(){return F.signOut()}})}),Object(a.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(a.jsxs)("h3",{children:["@",e.displayName]}),Object(a.jsxs)("p",{children:["#",e.uid.substring(0,6)]})]}),Object(a.jsxs)("div",{className:"sidebar__profileIcons",children:[Object(a.jsx)(y.a,{}),Object(a.jsx)(H.a,{}),Object(a.jsx)(E.a,{})]})]})]})},V=(n(82),n(83),n(54)),X=n.n(V),Y=n(55),K=n.n(Y),Q=n(56),Z=n.n(Q),$=n(57),q=n.n($),ee=n(58),ce=n.n(ee),ne=n(59),ae=n.n(ne);var se=function(e){var c=e.channelName;return Object(a.jsxs)("div",{className:"chatHeader",children:[Object(a.jsx)("div",{className:"chatHeader__left",children:Object(a.jsxs)("h3",{children:[Object(a.jsx)("span",{className:"chatHeader__hash",children:"#"}),c]})}),Object(a.jsxs)("div",{className:"chatHeader__right",children:[Object(a.jsx)(X.a,{}),Object(a.jsx)(K.a,{}),Object(a.jsx)(Z.a,{}),Object(a.jsxs)("div",{className:"chatHeader__search",children:[Object(a.jsx)("input",{placeholder:"Search"}),Object(a.jsx)("span",{className:"chatHeader__searchIcon",children:Object(a.jsx)(q.a,{})})]}),Object(a.jsx)(ce.a,{}),Object(a.jsx)(ae.a,{})]})]})},te=n(60),ie=n.n(te),re=n(61),le=n.n(re),oe=n(62),de=n.n(oe),je=n(63),he=n.n(je);n(84);var be=function(e){var c=e.timestamp,n=e.user,s=e.message;return Object(a.jsxs)("div",{className:"message",children:[Object(a.jsx)(k.a,{src:n.photo}),Object(a.jsxs)("div",{className:"message__info",children:[Object(a.jsxs)("h4",{children:[n.displayName,Object(a.jsx)("span",{className:"message__timestamp",children:new Date(null===c||void 0===c?void 0:c.toDate()).toUTCString()})]}),Object(a.jsx)("p",{children:s})]})]})};var ue=function(){var e=Object(l.c)(W),c=Object(l.c)(b),n=Object(l.c)(u),t=Object(s.useState)(""),i=Object(o.a)(t,2),r=i[0],d=i[1],j=Object(s.useState)([]),h=Object(o.a)(j,2),m=h[0],O=h[1];return Object(s.useEffect)((function(){c&&P.collection("channels").doc(c).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){return O(e.docs.map((function(e){return e.data()})))}))}),[c]),Object(a.jsxs)("div",{className:"chat",children:[Object(a.jsx)(se,{channelName:n}),Object(a.jsx)("div",{className:"chat__messages",children:m.map((function(e){return Object(a.jsx)(be,{timestamp:e.timestamp,user:e.user,message:e.message},e.key)}))}),Object(a.jsxs)("div",{className:"chat__input",children:[Object(a.jsx)(ie.a,{fontSize:"large"}),Object(a.jsxs)("form",{children:[Object(a.jsx)("input",{value:r,disabled:!c,onChange:function(e){return d(e.target.value)},placeholder:"Message #".concat(n)}),Object(a.jsx)("button",{type:"submit",onClick:function(n){n.preventDefault(),P.collection("channels").doc(c).collection("messages").add({timestamp:M.a.firestore.FieldValue.serverTimestamp(),message:r,user:e}),d("")},disabled:!c,className:"chat__inputButton",children:"Send Message"})]}),Object(a.jsxs)("div",{className:"chat__inputIcons",children:[Object(a.jsx)(le.a,{fontSize:"large"}),Object(a.jsx)(de.a,{fontSize:"large"}),Object(a.jsx)(he.a,{fontSize:"large"})]})]})]})},me=n(99),Oe=(n(85),function(){F.signInWithPopup(G).catch((function(e){return alert(e.message)}))});var pe=function(){return Object(a.jsxs)("div",{className:"login",children:[Object(a.jsx)("div",{className:"login__logo",children:Object(a.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/86/Discordikona_lv.png/320px-Discordikona_lv.png",alt:"Discord Logo"})}),Object(a.jsx)(me.a,{onClick:Oe,children:"Sign in"})]})};var xe=function(){var e=Object(l.b)(),c=Object(l.c)(W);return Object(s.useEffect)((function(){F.onAuthStateChanged((function(c){e(c?L({uid:c.uid,photo:c.photoURL,email:c.email,displayName:c.displayName}):U())}))}),[e]),Object(a.jsx)("div",{className:"app",children:c?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(R,{}),Object(a.jsx)(ue,{})]}):Object(a.jsx)(pe,{})})},fe=Object(d.a)({reducer:{user:J,app:m}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(a.jsx)(t.a.StrictMode,{children:Object(a.jsx)(l.a,{store:fe,children:Object(a.jsx)(xe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[86,1,2]]]);
//# sourceMappingURL=main.40bfd368.chunk.js.map